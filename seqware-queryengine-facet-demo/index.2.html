<html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7 ng-app:multiselect" lang="en" id="ng-app"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8 ng-app:multiselect" lang="en" id="ng-app"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang="en" ng-app="multiselect"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" ng-app="multiselect"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="Genomic Data Query Tool">
    <meta name="viewport" content="width=device-width">

    <title>Genomic Data Query Tool</title>

    <link rel="stylesheet" href="/common/css/normalize.min.css">
    <link rel="stylesheet" href="/common/css/main.min.css">
    <link rel="stylesheet" href="/common/css/bootstrap.min.css">
    <link rel="stylesheet" href="/common/css/bootstrap-responsive.min.css">
    <link rel="stylesheet" href="/common/css/elasticjs.css">

    <script src="/common/lib/modernizr-2.6.1.min.js"></script>
    <script language="JavaScript">
     function changeJBrowse(url)
     {
       window.frames["jbrowse"].location.href=url;
     }
    </script>
</body>
</head>

<body ng-controller="SearchCtrl">
    <div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container-fluid">
                <span class="brand">Genomic Data Query Tool</span>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row-fluid" style="margin-top:5%">
            <div class="span2 well">
                <ul class="nav nav-list">


                    <li class="divider"></li>
                    <li class="nav-header">Genomic Data</li>
                    <li class="divider"></li>
                    <li class="nav-header">Status</li>
                    <li >
                      <label class="checkbox">
                        <input type="checkbox">
                        false positive
                        <span class="muted">(233)</span></br>
                        <input type="checkbox">
                        true positive
                        <span class="muted">(233)</span></br>
                        <input type="checkbox">
                        false negative
                        <span class="muted">(233)</span></br>
                      </label>
                    </li>

                    <li class="nav-header">Variant Type</li>
                    <li ng-repeat="variant_type in results.facets.variant_typeFacet.terms">
                        <label class="checkbox">
                            <input type="checkbox" ng-checked="hasFilter('variant_type', variant_type.term)" ng-click="handleFilter('variant_type', variant_type.term)">
                            {{variant_type.term}}
                            <span class="muted">({{variant_type.count}})</span>
                        </label>
                    </li>
                    <li class="divider"></li>
                    <li class="nav-header">Annotations</li>
                    <li ng-repeat="tag in results.facets.databasesFacet.terms">
                        <label class="checkbox">
                            <input type="checkbox" ng-checked="hasFilter('databases', tag.term)" ng-click="handleFilter('databases', tag.term)">
                            {{tag.term}}
                            <span class="muted">({{tag.count}})</span>
                        </label>
                    </li>
                    <li class="divider"></li>
                    <li class="nav-header">Consequences</li>
                    <li ng-repeat="kw in results.facets.consequencesFacet.terms">
                        <label class="checkbox">
                            <input type="checkbox" ng-checked="hasFilter('consequences', kw.term)" ng-click="handleFilter('consequences', kw.term)">
                            {{kw.term}}
                            <span class="muted">({{kw.count}})</span>
                        </label>
                    </li>








                </ul>
            </div>
            <div class="span5">

                <iframe name="jbrowse" style="border: 1px solid #505050;" src="/jbrowse?loc=chr1:208,056,300..208,073,080&tracks=DNA%2CknownGene%2C1001%20Variants%2C1002%20Variants%2C1003%20Variants%2C1005%20Variants%2C1004%20Variants%2C1006%20Variants%2C1007%20Variants%2C1008%20Variants%2C1009%20Variants%2C1010%20Variants%2CReads&tracklist=0&nav=1&overview=0" height="1000" width="550"></iframe>

                <!-- Use if Jbrowse isn't setup on this server -->
                <!-- iframe name="jbrowse" style="border: 1px solid #505050;" src="http://jbrowse.org/ucsc/hg19/touch.html?loc=chr1:208,056,300..208,073,080&tracks=DNA,knownGene,ccdsGene,snp131,pgWatson,simpleRepeat" height="650" width="550"></iframe -->

                <!--pre>{{restQry}}</pre-->

              <!-- http://jbrowse.org/code/latest-release/?loc=ctgA:9908..32518&amp;tracks=DNA%2CTranscript%2Cvolvox_microarray_bw_density%2Cvolvox_microarray_bw_xyplot%2Cvolvox-sorted-vcf%2Cvolvox-sorted_bam_coverage%2Cvolvox-sorted_bam&amp;data=sample_data%2Fjson%2Fvolvox&amp;highlight=&amp;tracklist=0 -->

            </div>
            <div class="span5">
                <ul class="unstyled">
                    <li class="well well-small" ng-repeat="hit in results.hits.hits">
                        <h4>{{hit._source.title}}</h4>
                        <a href="javascript:changeJBrowse('/jbrowse?loc=chr{{hit._source.location.chr}}:{{hit._source.location.start}}..{{hit._source.location.stop}}&highlight=chr{{hit._source.location.chr}}:{{hit._source.location.start}}..{{hit._source.location.stop}}&tracks=DNA%2CknownGene%2C1001%20Variants%2C1002%20Variants%2C1003%20Variants%2C1005%20Variants%2C1004%20Variants%2C1006%20Variants%2C1007%20Variants%2C1008%20Variants%2C1009%20Variants%2C1010%20Variants%2CReads&tracklist=0&nav=1&overview=0')">

                        <!-- Use if you don't have jbrowse installed -->
                        <!-- a href="javascript:changeJBrowse('http://jbrowse.org/ucsc/hg19/touch.html?loc=chr{{hit._source.location.chr}}:{{hit._source.location.start}}..{{hit._source.location.stop}}&tracks=DNA,knownGene,ccdsGene,snp131,pgWatson,simpleRepeat')" -->

                        <!--a href="https://genome.ucsc.edu/cgi-bin/hgTracks?db=hg19&position=chr{{hit._source.location.chr}}:{{hit._source.location.start}}-{{hit._source.location.stop}}" -->
                        <!-- document.frames["myInnerFrame"].location.href=fl; -->
                        <span style="margin-right:1px;" class="badge badge-important" target="_blank">Browse...</span></a>
                        <span style="margin-right:1px;" class="badge badge-info" ng-repeat="tag in hit._source.databases">{{tag}}</span>
                        <span style="margin-right:1px;" class="badge badge-success" ng-repeat="kw in hit._source.consequences">{{kw}}</span>
                    </li>
                    <li><span style="margin-right:1px;" class="badge badge-success" ng-click="previous()">previous</span>
                    <span style="margin-right:1px;" class="badge badge-success" ng-click="next()">next</span></li>

                </ul>
            </div>
        </div>
    </div>

    <!-- project dependencies -->
    <script src="/common/lib/underscore.min.js"></script>
    <script src="/common/lib/angular.min.js"></script>
    <script src="/common/js/elastic.min.js"></script>
    <script src="/common/js/elastic-angular-client.min.js"></script>

    <!-- project specific files -->
    <script src="js/app.js"></script>

</html>
